schema: '2.0'
stages:
  get_data:
    cmd: python src/stage_01_get_data.py --config=configs/config.yaml
    deps:
    - path: configs/config.yaml
      md5: 438f0098e1c66a2b65c45f667cd13f02
      size: 502
    - path: src/stage_01_get_data.py
      md5: d67550c8f761f00b9ae9a5b1600546f7
      size: 1495
    - path: src/utils/common.py
      md5: 7e1be3a5b12c3ca4c13afe2b4ce99ca6
      size: 1073
    outs:
    - path: data/cat
      md5: ec9e53216af60e09723e11464cf97066.dir
      size: 261913822
      nfiles: 12500
    - path: data/dog
      md5: 1a38b0de8193bb65118c33b4aba4bc21.dir
      size: 310001554
      nfiles: 12500
  prepare_base_model:
    cmd: python src/stage_02_prepare_base_model.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: configs/config.yaml
      md5: 438f0098e1c66a2b65c45f667cd13f02
      size: 502
    - path: src/stage_02_prepare_base_model.py
      md5: 3da4c6bb7618ab9443e67b4d96d1ae9f
      size: 2166
    - path: src/utils/common.py
      md5: 7e1be3a5b12c3ca4c13afe2b4ce99ca6
      size: 1073
    - path: src/utils/model.py
      md5: af36b086fd4cfe7563b2a024a7e37411
      size: 1779
    params:
      params.yaml:
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.001
    outs:
    - path: artifacts/base_model/base_model.h5
      md5: c17a63bdee9fd169f7feb3df0a33f419
      size: 58920272
    - path: artifacts/base_model/updated_base_model.h5
      md5: a3cba793889ed9397c5ec22858e65dcb
      size: 59132008
  prepare_callback:
    cmd: python src/stage_03_prepare_callback.py --config=configs/config.yaml
    deps:
    - path: configs/config.yaml
      md5: 438f0098e1c66a2b65c45f667cd13f02
      size: 502
    - path: params.yaml
      md5: d2edf89f81ed0dda469207c3fd3a6e10
      size: 186
    - path: src/stage_03_prepare_callback.py
      md5: ec9ff24ff6bd53716ee68701a35336d4
      size: 1867
    - path: src/utils/callbacks.py
      md5: 79e37503a087b48de5df0c3d9f90ee44
      size: 1300
    - path: src/utils/common.py
      md5: 7e1be3a5b12c3ca4c13afe2b4ce99ca6
      size: 1073
    outs:
    - path: artifacts/callbacks/checkpoint_cb.cb
      md5: fa4abcae7e340415ddfaabd96efa85bb
      size: 869
    - path: artifacts/callbacks/tensorboard_cb.cb
      md5: 3b6f895231bdcc84b68da6f2204a22a8
      size: 682
